{"ast":null,"code":"var _jsxFileName = \"/Users/sibtulhassan/Downloads/ohmyfood-fullstack/client/src/components/Recommendations.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from \"react\";\nimport API from \"../api\";\nimport { CartContext } from \"../context/CartContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Recommendations({\n  restaurantId,\n  currentMenu = []\n}) {\n  _s();\n  const [items, setItems] = useState([]);\n  const {\n    addToCart\n  } = useContext(CartContext);\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (!restaurantId || !token) return;\n    API.get(`/api/recommendations/${restaurantId}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => {\n      const recommended = res.data || [];\n\n      // ‚úÖ Filter out duplicates already in the restaurant menu\n      const filtered = recommended.filter(rec => !currentMenu.some(menuItem => menuItem.name.trim().toLowerCase() === rec.name.trim().toLowerCase()));\n      setItems(filtered);\n    }).catch(err => console.error(\"‚ùå Recommendation fetch error:\", err.message));\n  }, [restaurantId, currentMenu]);\n  if (!items.length) return null; // hide section completely if empty\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"recommendations\",\n    style: {\n      marginTop: \"40px\",\n      padding: \"0 20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginBottom: \"15px\",\n        fontSize: \"1.2em\",\n        fontWeight: \"600\",\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: \"8px\"\n      },\n      children: \"\\uD83C\\uDF7D\\uFE0F You might also like\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: \"16px\",\n        overflowX: \"auto\",\n        paddingBottom: \"10px\"\n      },\n      children: items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          minWidth: \"180px\",\n          background: \"#fff\",\n          borderRadius: \"12px\",\n          boxShadow: \"0 2px 6px rgba(0,0,0,0.1)\",\n          padding: \"12px\",\n          flexShrink: 0,\n          transition: \"transform 0.2s ease\"\n        },\n        className: \"recommendation-card\",\n        onMouseEnter: e => e.currentTarget.style.transform = \"scale(1.03)\",\n        onMouseLeave: e => e.currentTarget.style.transform = \"scale(1)\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          style: {\n            marginBottom: \"4px\",\n            fontSize: \"1em\"\n          },\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: \"0 0 8px 0\",\n            fontSize: \"0.85em\",\n            color: \"#666\"\n          },\n          children: item.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontWeight: \"bold\",\n            color: \"#ff385c\",\n            fontSize: \"0.95em\"\n          },\n          children: [\"\\xA3\", item.price.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => addToCart({\n            ...item,\n            restaurantId\n          }),\n          style: {\n            marginTop: \"8px\",\n            width: \"100%\",\n            border: \"none\",\n            borderRadius: \"6px\",\n            background: \"#ff385c\",\n            color: \"#fff\",\n            padding: \"6px 0\",\n            cursor: \"pointer\",\n            fontSize: \"0.85em\"\n          },\n          children: \"+ Add to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this)]\n      }, item._id || item.name, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(Recommendations, \"UXyHZHkP8yzYRtnU+WL3zVs0VqA=\");\n_c = Recommendations;\nvar _c;\n$RefreshReg$(_c, \"Recommendations\");","map":{"version":3,"names":["React","useEffect","useState","useContext","API","CartContext","jsxDEV","_jsxDEV","Recommendations","restaurantId","currentMenu","_s","items","setItems","addToCart","token","localStorage","getItem","get","headers","Authorization","then","res","recommended","data","filtered","filter","rec","some","menuItem","name","trim","toLowerCase","catch","err","console","error","message","length","className","style","marginTop","padding","children","marginBottom","fontSize","fontWeight","display","alignItems","gap","fileName","_jsxFileName","lineNumber","columnNumber","overflowX","paddingBottom","map","item","minWidth","background","borderRadius","boxShadow","flexShrink","transition","onMouseEnter","e","currentTarget","transform","onMouseLeave","margin","color","description","price","toFixed","onClick","width","border","cursor","_id","_c","$RefreshReg$"],"sources":["/Users/sibtulhassan/Downloads/ohmyfood-fullstack/client/src/components/Recommendations.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport API from \"../api\";\nimport { CartContext } from \"../context/CartContext\";\n\nexport default function Recommendations({ restaurantId, currentMenu = [] }) {\n  const [items, setItems] = useState([]);\n  const { addToCart } = useContext(CartContext);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (!restaurantId || !token) return;\n\n    API.get(`/api/recommendations/${restaurantId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    })\n      .then((res) => {\n        const recommended = res.data || [];\n\n        // ‚úÖ Filter out duplicates already in the restaurant menu\n        const filtered = recommended.filter(\n          (rec) =>\n            !currentMenu.some(\n              (menuItem) =>\n                menuItem.name.trim().toLowerCase() ===\n                rec.name.trim().toLowerCase()\n            )\n        );\n\n        setItems(filtered);\n      })\n      .catch((err) =>\n        console.error(\"‚ùå Recommendation fetch error:\", err.message)\n      );\n  }, [restaurantId, currentMenu]);\n\n  if (!items.length) return null; // hide section completely if empty\n\n  return (\n    <section\n      className=\"recommendations\"\n      style={{\n        marginTop: \"40px\",\n        padding: \"0 20px\",\n      }}\n    >\n      <h3\n        style={{\n          marginBottom: \"15px\",\n          fontSize: \"1.2em\",\n          fontWeight: \"600\",\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: \"8px\",\n        }}\n      >\n        üçΩÔ∏è You might also like\n      </h3>\n\n      <div\n        style={{\n          display: \"flex\",\n          gap: \"16px\",\n          overflowX: \"auto\",\n          paddingBottom: \"10px\",\n        }}\n      >\n        {items.map((item) => (\n          <div\n            key={item._id || item.name}\n            style={{\n              minWidth: \"180px\",\n              background: \"#fff\",\n              borderRadius: \"12px\",\n              boxShadow: \"0 2px 6px rgba(0,0,0,0.1)\",\n              padding: \"12px\",\n              flexShrink: 0,\n              transition: \"transform 0.2s ease\",\n            }}\n            className=\"recommendation-card\"\n            onMouseEnter={(e) =>\n              (e.currentTarget.style.transform = \"scale(1.03)\")\n            }\n            onMouseLeave={(e) => (e.currentTarget.style.transform = \"scale(1)\")}\n          >\n            <h4 style={{ marginBottom: \"4px\", fontSize: \"1em\" }}>\n              {item.name}\n            </h4>\n            <p\n              style={{\n                margin: \"0 0 8px 0\",\n                fontSize: \"0.85em\",\n                color: \"#666\",\n              }}\n            >\n              {item.description}\n            </p>\n            <p\n              style={{\n                fontWeight: \"bold\",\n                color: \"#ff385c\",\n                fontSize: \"0.95em\",\n              }}\n            >\n              ¬£{item.price.toFixed(2)}\n            </p>\n            <button\n              onClick={() => addToCart({ ...item, restaurantId })}\n              style={{\n                marginTop: \"8px\",\n                width: \"100%\",\n                border: \"none\",\n                borderRadius: \"6px\",\n                background: \"#ff385c\",\n                color: \"#fff\",\n                padding: \"6px 0\",\n                cursor: \"pointer\",\n                fontSize: \"0.85em\",\n              }}\n            >\n              + Add to Cart\n            </button>\n          </div>\n        ))}\n      </div>\n    </section>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}