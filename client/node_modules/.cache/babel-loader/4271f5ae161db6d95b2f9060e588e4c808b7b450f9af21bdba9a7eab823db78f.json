{"ast":null,"code":"var _jsxFileName = \"/Users/sibtulhassan/Downloads/ohmyfood-fullstack/client/src/pages/Restaurant.js\",\n  _s = $RefreshSig$();\n// client/src/pages/Restaurant.js\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport API from \"../api\";\nimport { CartContext } from \"../context/CartContext\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Restaurant() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [rest, setRest] = useState(null);\n  const [recommended, setRecommended] = useState([]);\n  const [previouslyOrdered, setPreviouslyOrdered] = useState([]);\n  const [dishRatings, setDishRatings] = useState({});\n  const [toast, setToast] = useState(null);\n  const [expandedReviews, setExpandedReviews] = useState({});\n  const {\n    addToCart\n  } = useContext(CartContext);\n\n  // ✅ Fetch restaurant details\n  useEffect(() => {\n    API.get(`/api/restaurants/${id}`).then(r => setRest(r.data)).catch(console.error);\n  }, [id]);\n\n  // ✅ Fetch reviews and ratings for this restaurant\n  useEffect(() => {\n    if (!id) return;\n    API.get(`/api/reviews/restaurant/${id}`).then(res => {\n      setDishRatings(res.data.dishStats || {});\n    }).catch(err => console.error(\"❌ Error fetching reviews:\", err));\n  }, [id]);\n\n  // ✅ Fetch recommendations\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (!id || !token) return;\n    API.get(`/api/recommendations/${id}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => setRecommended(res.data || [])).catch(err => console.error(\"❌ Error fetching recommendations:\", err.message));\n  }, [id]);\n\n  // ✅ Fetch user's past orders to show \"Order Again\" labels\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) return;\n    API.get(\"/api/orders/my-orders\", {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => {\n      const allItems = res.data.flatMap(order => order.items || []);\n      const names = allItems.map(i => i.name.trim().toLowerCase());\n      setPreviouslyOrdered([...new Set(names)]); // unique names\n    }).catch(err => console.error(\"❌ Failed to load user orders:\", err));\n  }, []);\n\n  // ✅ Add item to cart\n  function handleAdd(item) {\n    addToCart({\n      ...item,\n      restaurantId: rest._id\n    });\n    setToast(`${item.name} added to cart ✅`);\n    setTimeout(() => setToast(null), 2000);\n  }\n  if (!rest) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 21\n  }, this);\n\n  // ✅ Helpers\n  const isRecommended = item => recommended.some(r => r.name.trim().toLowerCase() === item.name.trim().toLowerCase());\n  const isPreviouslyOrdered = item => previouslyOrdered.includes(item.name.trim().toLowerCase());\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"restaurant-page\",\n    style: {\n      background: \"#f8f9fa\",\n      minHeight: \"100vh\"\n    },\n    children: [toast && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"toast\",\n      style: {\n        position: \"fixed\",\n        top: \"20px\",\n        right: \"20px\",\n        background: \"#28a745\",\n        color: \"#fff\",\n        padding: \"12px 20px\",\n        borderRadius: \"8px\",\n        zIndex: 999,\n        boxShadow: \"0 4px 12px rgba(0,0,0,0.15)\",\n        animation: \"slideIn 0.3s ease\"\n      },\n      children: toast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"relative\",\n        marginBottom: \"30px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: \"300px\",\n          overflow: \"hidden\",\n          position: \"relative\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: `${process.env.REACT_APP_API_URL || \"http://localhost:5001\"}${rest.image}`,\n          alt: rest.name,\n          style: {\n            width: \"100%\",\n            height: \"100%\",\n            objectFit: \"cover\",\n            filter: \"brightness(0.8)\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            bottom: 0,\n            left: 0,\n            right: 0,\n            background: \"linear-gradient(to top, rgba(0,0,0,0.7), transparent)\",\n            padding: \"40px 20px 20px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              maxWidth: \"1200px\",\n              margin: \"0 auto\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              style: {\n                color: \"#fff\",\n                margin: \"0 0 8px 0\",\n                fontSize: \"2.5rem\",\n                fontWeight: \"700\"\n              },\n              children: rest.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: \"#fff\",\n                margin: 0,\n                fontSize: \"1.1rem\",\n                opacity: 0.95\n              },\n              children: rest.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: \"1200px\",\n        margin: \"0 auto\",\n        padding: \"0 20px 40px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontSize: \"1.8rem\",\n          marginBottom: \"24px\",\n          color: \"#333\",\n          fontWeight: \"600\"\n        },\n        children: \"Our Menu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(auto-fill, minmax(320px, 1fr))\",\n          gap: \"24px\"\n        },\n        children: rest.menu.map(m => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"relative\",\n            background: \"#fff\",\n            borderRadius: \"12px\",\n            overflow: \"hidden\",\n            boxShadow: \"0 2px 8px rgba(0,0,0,0.08)\",\n            transition: \"all 0.3s ease\",\n            cursor: \"pointer\"\n          },\n          onMouseEnter: e => {\n            e.currentTarget.style.transform = \"translateY(-4px)\";\n            e.currentTarget.style.boxShadow = \"0 8px 20px rgba(0,0,0,0.12)\";\n          },\n          onMouseLeave: e => {\n            e.currentTarget.style.transform = \"translateY(0)\";\n            e.currentTarget.style.boxShadow = \"0 2px 8px rgba(0,0,0,0.08)\";\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: \"absolute\",\n              top: \"12px\",\n              right: \"12px\",\n              display: \"flex\",\n              flexDirection: \"column\",\n              gap: \"6px\",\n              zIndex: 2\n            },\n            children: [isRecommended(m) && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                background: \"linear-gradient(135deg, #ff385c 0%, #ff6b6b 100%)\",\n                color: \"#fff\",\n                fontSize: \"0.75rem\",\n                fontWeight: \"600\",\n                padding: \"5px 10px\",\n                borderRadius: \"20px\",\n                boxShadow: \"0 2px 6px rgba(255,56,92,0.3)\"\n              },\n              children: \"\\u2B50 Recommended\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 19\n            }, this), isPreviouslyOrdered(m) && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                background: \"linear-gradient(135deg, #f5b400 0%, #ffd700 100%)\",\n                color: \"#000\",\n                fontSize: \"0.75rem\",\n                fontWeight: \"600\",\n                padding: \"5px 10px\",\n                borderRadius: \"20px\",\n                boxShadow: \"0 2px 6px rgba(245,180,0,0.3)\"\n              },\n              children: \"\\uFFFD Order Again\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: \"20px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: \"0 0 8px 0\",\n                fontSize: \"1.3rem\",\n                color: \"#222\",\n                fontWeight: \"600\"\n              },\n              children: m.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 17\n            }, this), dishRatings[m.name] && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: \"8px\",\n                  marginBottom: \"8px\",\n                  padding: \"6px 0\",\n                  cursor: \"pointer\",\n                  userSelect: \"none\"\n                },\n                onClick: e => {\n                  e.stopPropagation();\n                  setExpandedReviews(prev => ({\n                    ...prev,\n                    [m.name]: !prev[m.name]\n                  }));\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    gap: \"4px\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: \"#ffc107\",\n                      fontSize: \"1.1rem\"\n                    },\n                    children: \"\\u2605\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontWeight: \"700\",\n                      fontSize: \"1rem\",\n                      color: \"#222\"\n                    },\n                    children: dishRatings[m.name].averageRating\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"#666\",\n                    fontSize: \"0.9rem\"\n                  },\n                  children: [\"(\", dishRatings[m.name].reviewCount, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: \"0.75rem\",\n                    color: \"#999\",\n                    marginLeft: \"auto\"\n                  },\n                  children: expandedReviews[m.name] ? \"Hide reviews ▲\" : \"Show reviews ▼\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 21\n              }, this), expandedReviews[m.name] && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  background: \"#f8f9fa\",\n                  border: \"1px solid #e9ecef\",\n                  borderRadius: \"8px\",\n                  padding: \"12px\",\n                  marginBottom: \"12px\",\n                  maxHeight: \"240px\",\n                  overflowY: \"auto\"\n                },\n                onClick: e => e.stopPropagation(),\n                children: [dishRatings[m.name].reviews.slice(0, 5).map((review, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    borderBottom: idx < Math.min(4, dishRatings[m.name].reviews.length - 1) ? \"1px solid #dee2e6\" : \"none\",\n                    paddingBottom: \"10px\",\n                    marginBottom: \"10px\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      gap: \"6px\",\n                      marginBottom: \"4px\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        color: \"#ffc107\",\n                        fontSize: \"0.9rem\",\n                        letterSpacing: \"1px\"\n                      },\n                      children: [\"★\".repeat(review.rating), /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          color: \"#dee2e6\"\n                        },\n                        children: \"★\".repeat(5 - review.rating)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 373,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 365,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: \"0.85rem\",\n                        color: \"#495057\",\n                        fontWeight: \"500\"\n                      },\n                      children: review.userName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 377,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 31\n                  }, this), review.comment && /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      fontSize: \"0.9rem\",\n                      color: \"#6c757d\",\n                      margin: \"4px 0 0 0\",\n                      lineHeight: \"1.4\",\n                      fontStyle: \"italic\"\n                    },\n                    children: [\"\\\"\", review.comment, \"\\\"\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 388,\n                    columnNumber: 33\n                  }, this)]\n                }, idx, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 29\n                }, this)), dishRatings[m.name].reviews.length > 5 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    fontSize: \"0.85rem\",\n                    color: \"#6c757d\",\n                    margin: \"8px 0 0 0\",\n                    textAlign: \"center\",\n                    fontWeight: \"500\"\n                  },\n                  children: [\"+ \", dishRatings[m.name].reviews.length - 5, \" more\", \" \", dishRatings[m.name].reviews.length - 5 === 1 ? \"review\" : \"reviews\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: \"#6c757d\",\n                fontSize: \"0.95rem\",\n                lineHeight: \"1.5\",\n                margin: \"0 0 16px 0\",\n                minHeight: \"44px\"\n              },\n              children: m.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"space-between\",\n                marginTop: \"auto\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: \"1.5rem\",\n                  fontWeight: \"700\",\n                  color: \"#ff385c\"\n                },\n                children: [\"\\xA3\", m.price.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: e => {\n                  e.stopPropagation();\n                  handleAdd(m);\n                },\n                style: {\n                  background: \"linear-gradient(135deg, #ff385c 0%, #ff6b6b 100%)\",\n                  color: \"#fff\",\n                  border: \"none\",\n                  padding: \"10px 20px\",\n                  borderRadius: \"25px\",\n                  cursor: \"pointer\",\n                  fontSize: \"0.95rem\",\n                  fontWeight: \"600\",\n                  transition: \"all 0.3s ease\",\n                  boxShadow: \"0 4px 12px rgba(255,56,92,0.3)\"\n                },\n                onMouseEnter: e => {\n                  e.currentTarget.style.transform = \"scale(1.05)\";\n                  e.currentTarget.style.boxShadow = \"0 6px 16px rgba(255,56,92,0.4)\";\n                },\n                onMouseLeave: e => {\n                  e.currentTarget.style.transform = \"scale(1)\";\n                  e.currentTarget.style.boxShadow = \"0 4px 12px rgba(255,56,92,0.3)\";\n                },\n                children: \"\\u2795 Add to Cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 15\n          }, this)]\n        }, m._id || m.name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\",\n          marginTop: \"48px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(\"/\"),\n          style: {\n            background: \"#fff\",\n            color: \"#495057\",\n            border: \"2px solid #dee2e6\",\n            borderRadius: \"25px\",\n            padding: \"12px 32px\",\n            cursor: \"pointer\",\n            fontSize: \"1rem\",\n            fontWeight: \"600\",\n            transition: \"all 0.3s ease\"\n          },\n          onMouseEnter: e => {\n            e.currentTarget.style.background = \"#f8f9fa\";\n            e.currentTarget.style.borderColor = \"#adb5bd\";\n          },\n          onMouseLeave: e => {\n            e.currentTarget.style.background = \"#fff\";\n            e.currentTarget.style.borderColor = \"#dee2e6\";\n          },\n          children: \"\\u2190 Back to Restaurants\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes slideIn {\n          from {\n            transform: translateX(100%);\n            opacity: 0;\n          }\n          to {\n            transform: translateX(0);\n            opacity: 1;\n          }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n_s(Restaurant, \"ea8N++47hr5fnVmnkEc9GC4gf24=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Restaurant;\nvar _c;\n$RefreshReg$(_c, \"Restaurant\");","map":{"version":3,"names":["React","useEffect","useState","useContext","useNavigate","useParams","API","CartContext","jsxDEV","_jsxDEV","Fragment","_Fragment","Restaurant","_s","id","navigate","rest","setRest","recommended","setRecommended","previouslyOrdered","setPreviouslyOrdered","dishRatings","setDishRatings","toast","setToast","expandedReviews","setExpandedReviews","addToCart","get","then","r","data","catch","console","error","res","dishStats","err","token","localStorage","getItem","headers","Authorization","message","allItems","flatMap","order","items","names","map","i","name","trim","toLowerCase","Set","handleAdd","item","restaurantId","_id","setTimeout","children","fileName","_jsxFileName","lineNumber","columnNumber","isRecommended","some","isPreviouslyOrdered","includes","className","style","background","minHeight","position","top","right","color","padding","borderRadius","zIndex","boxShadow","animation","marginBottom","height","overflow","src","process","env","REACT_APP_API_URL","image","alt","width","objectFit","filter","bottom","left","maxWidth","margin","fontSize","fontWeight","opacity","description","display","gridTemplateColumns","gap","menu","m","transition","cursor","onMouseEnter","e","currentTarget","transform","onMouseLeave","flexDirection","alignItems","userSelect","onClick","stopPropagation","prev","averageRating","reviewCount","marginLeft","border","maxHeight","overflowY","reviews","slice","review","idx","borderBottom","Math","min","length","paddingBottom","letterSpacing","repeat","rating","userName","comment","lineHeight","fontStyle","textAlign","justifyContent","marginTop","price","toFixed","borderColor","_c","$RefreshReg$"],"sources":["/Users/sibtulhassan/Downloads/ohmyfood-fullstack/client/src/pages/Restaurant.js"],"sourcesContent":["// client/src/pages/Restaurant.js\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport API from \"../api\";\nimport { CartContext } from \"../context/CartContext\";\n\nexport default function Restaurant() {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [rest, setRest] = useState(null);\n  const [recommended, setRecommended] = useState([]);\n  const [previouslyOrdered, setPreviouslyOrdered] = useState([]);\n  const [dishRatings, setDishRatings] = useState({});\n  const [toast, setToast] = useState(null);\n  const [expandedReviews, setExpandedReviews] = useState({});\n  const { addToCart } = useContext(CartContext);\n\n  // ✅ Fetch restaurant details\n  useEffect(() => {\n    API.get(`/api/restaurants/${id}`)\n      .then((r) => setRest(r.data))\n      .catch(console.error);\n  }, [id]);\n\n  // ✅ Fetch reviews and ratings for this restaurant\n  useEffect(() => {\n    if (!id) return;\n    API.get(`/api/reviews/restaurant/${id}`)\n      .then((res) => {\n        setDishRatings(res.data.dishStats || {});\n      })\n      .catch((err) => console.error(\"❌ Error fetching reviews:\", err));\n  }, [id]);\n\n  // ✅ Fetch recommendations\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (!id || !token) return;\n\n    API.get(`/api/recommendations/${id}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    })\n      .then((res) => setRecommended(res.data || []))\n      .catch((err) =>\n        console.error(\"❌ Error fetching recommendations:\", err.message)\n      );\n  }, [id]);\n\n  // ✅ Fetch user's past orders to show \"Order Again\" labels\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) return;\n\n    API.get(\"/api/orders/my-orders\", {\n      headers: { Authorization: `Bearer ${token}` },\n    })\n      .then((res) => {\n        const allItems = res.data.flatMap((order) => order.items || []);\n        const names = allItems.map((i) => i.name.trim().toLowerCase());\n        setPreviouslyOrdered([...new Set(names)]); // unique names\n      })\n      .catch((err) => console.error(\"❌ Failed to load user orders:\", err));\n  }, []);\n\n  // ✅ Add item to cart\n  function handleAdd(item) {\n    addToCart({ ...item, restaurantId: rest._id });\n    setToast(`${item.name} added to cart ✅`);\n    setTimeout(() => setToast(null), 2000);\n  }\n\n  if (!rest) return <div>Loading...</div>;\n\n  // ✅ Helpers\n  const isRecommended = (item) =>\n    recommended.some(\n      (r) => r.name.trim().toLowerCase() === item.name.trim().toLowerCase()\n    );\n\n  const isPreviouslyOrdered = (item) =>\n    previouslyOrdered.includes(item.name.trim().toLowerCase());\n\n  return (\n    <div\n      className=\"restaurant-page\"\n      style={{ background: \"#f8f9fa\", minHeight: \"100vh\" }}\n    >\n      {toast && (\n        <div\n          className=\"toast\"\n          style={{\n            position: \"fixed\",\n            top: \"20px\",\n            right: \"20px\",\n            background: \"#28a745\",\n            color: \"#fff\",\n            padding: \"12px 20px\",\n            borderRadius: \"8px\",\n            zIndex: 999,\n            boxShadow: \"0 4px 12px rgba(0,0,0,0.15)\",\n            animation: \"slideIn 0.3s ease\",\n          }}\n        >\n          {toast}\n        </div>\n      )}\n\n      {/* Restaurant Header */}\n      <div style={{ position: \"relative\", marginBottom: \"30px\" }}>\n        <div\n          style={{\n            height: \"300px\",\n            overflow: \"hidden\",\n            position: \"relative\",\n          }}\n        >\n          <img\n            src={`${process.env.REACT_APP_API_URL || \"http://localhost:5001\"}${\n              rest.image\n            }`}\n            alt={rest.name}\n            style={{\n              width: \"100%\",\n              height: \"100%\",\n              objectFit: \"cover\",\n              filter: \"brightness(0.8)\",\n            }}\n          />\n          <div\n            style={{\n              position: \"absolute\",\n              bottom: 0,\n              left: 0,\n              right: 0,\n              background:\n                \"linear-gradient(to top, rgba(0,0,0,0.7), transparent)\",\n              padding: \"40px 20px 20px\",\n            }}\n          >\n            <div style={{ maxWidth: \"1200px\", margin: \"0 auto\" }}>\n              <h1\n                style={{\n                  color: \"#fff\",\n                  margin: \"0 0 8px 0\",\n                  fontSize: \"2.5rem\",\n                  fontWeight: \"700\",\n                }}\n              >\n                {rest.name}\n              </h1>\n              <p\n                style={{\n                  color: \"#fff\",\n                  margin: 0,\n                  fontSize: \"1.1rem\",\n                  opacity: 0.95,\n                }}\n              >\n                {rest.description}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Menu Section */}\n      <div\n        style={{ maxWidth: \"1200px\", margin: \"0 auto\", padding: \"0 20px 40px\" }}\n      >\n        <h2\n          style={{\n            fontSize: \"1.8rem\",\n            marginBottom: \"24px\",\n            color: \"#333\",\n            fontWeight: \"600\",\n          }}\n        >\n          Our Menu\n        </h2>\n\n        <div\n          style={{\n            display: \"grid\",\n            gridTemplateColumns: \"repeat(auto-fill, minmax(320px, 1fr))\",\n            gap: \"24px\",\n          }}\n        >\n          {rest.menu.map((m) => (\n            <div\n              key={m._id || m.name}\n              style={{\n                position: \"relative\",\n                background: \"#fff\",\n                borderRadius: \"12px\",\n                overflow: \"hidden\",\n                boxShadow: \"0 2px 8px rgba(0,0,0,0.08)\",\n                transition: \"all 0.3s ease\",\n                cursor: \"pointer\",\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.transform = \"translateY(-4px)\";\n                e.currentTarget.style.boxShadow = \"0 8px 20px rgba(0,0,0,0.12)\";\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.transform = \"translateY(0)\";\n                e.currentTarget.style.boxShadow = \"0 2px 8px rgba(0,0,0,0.08)\";\n              }}\n            >\n              {/* Badges */}\n              <div\n                style={{\n                  position: \"absolute\",\n                  top: \"12px\",\n                  right: \"12px\",\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  gap: \"6px\",\n                  zIndex: 2,\n                }}\n              >\n                {isRecommended(m) && (\n                  <span\n                    style={{\n                      background:\n                        \"linear-gradient(135deg, #ff385c 0%, #ff6b6b 100%)\",\n                      color: \"#fff\",\n                      fontSize: \"0.75rem\",\n                      fontWeight: \"600\",\n                      padding: \"5px 10px\",\n                      borderRadius: \"20px\",\n                      boxShadow: \"0 2px 6px rgba(255,56,92,0.3)\",\n                    }}\n                  >\n                    ⭐ Recommended\n                  </span>\n                )}\n\n                {isPreviouslyOrdered(m) && (\n                  <span\n                    style={{\n                      background:\n                        \"linear-gradient(135deg, #f5b400 0%, #ffd700 100%)\",\n                      color: \"#000\",\n                      fontSize: \"0.75rem\",\n                      fontWeight: \"600\",\n                      padding: \"5px 10px\",\n                      borderRadius: \"20px\",\n                      boxShadow: \"0 2px 6px rgba(245,180,0,0.3)\",\n                    }}\n                  >\n                    � Order Again\n                  </span>\n                )}\n              </div>\n\n              <div style={{ padding: \"20px\" }}>\n                <h3\n                  style={{\n                    margin: \"0 0 8px 0\",\n                    fontSize: \"1.3rem\",\n                    color: \"#222\",\n                    fontWeight: \"600\",\n                  }}\n                >\n                  {m.name}\n                </h3>\n\n                {/* Rating Section */}\n                {dishRatings[m.name] && (\n                  <>\n                    <div\n                      style={{\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        gap: \"8px\",\n                        marginBottom: \"8px\",\n                        padding: \"6px 0\",\n                        cursor: \"pointer\",\n                        userSelect: \"none\",\n                      }}\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        setExpandedReviews((prev) => ({\n                          ...prev,\n                          [m.name]: !prev[m.name],\n                        }));\n                      }}\n                    >\n                      <div\n                        style={{\n                          display: \"flex\",\n                          alignItems: \"center\",\n                          gap: \"4px\",\n                        }}\n                      >\n                        <span style={{ color: \"#ffc107\", fontSize: \"1.1rem\" }}>\n                          ★\n                        </span>\n                        <span\n                          style={{\n                            fontWeight: \"700\",\n                            fontSize: \"1rem\",\n                            color: \"#222\",\n                          }}\n                        >\n                          {dishRatings[m.name].averageRating}\n                        </span>\n                      </div>\n                      <span style={{ color: \"#666\", fontSize: \"0.9rem\" }}>\n                        ({dishRatings[m.name].reviewCount})\n                      </span>\n                      <span\n                        style={{\n                          fontSize: \"0.75rem\",\n                          color: \"#999\",\n                          marginLeft: \"auto\",\n                        }}\n                      >\n                        {expandedReviews[m.name]\n                          ? \"Hide reviews ▲\"\n                          : \"Show reviews ▼\"}\n                      </span>\n                    </div>\n\n                    {/* Reviews Dropdown */}\n                    {expandedReviews[m.name] && (\n                      <div\n                        style={{\n                          background: \"#f8f9fa\",\n                          border: \"1px solid #e9ecef\",\n                          borderRadius: \"8px\",\n                          padding: \"12px\",\n                          marginBottom: \"12px\",\n                          maxHeight: \"240px\",\n                          overflowY: \"auto\",\n                        }}\n                        onClick={(e) => e.stopPropagation()}\n                      >\n                        {dishRatings[m.name].reviews\n                          .slice(0, 5)\n                          .map((review, idx) => (\n                            <div\n                              key={idx}\n                              style={{\n                                borderBottom:\n                                  idx <\n                                  Math.min(\n                                    4,\n                                    dishRatings[m.name].reviews.length - 1\n                                  )\n                                    ? \"1px solid #dee2e6\"\n                                    : \"none\",\n                                paddingBottom: \"10px\",\n                                marginBottom: \"10px\",\n                              }}\n                            >\n                              <div\n                                style={{\n                                  display: \"flex\",\n                                  alignItems: \"center\",\n                                  gap: \"6px\",\n                                  marginBottom: \"4px\",\n                                }}\n                              >\n                                <span\n                                  style={{\n                                    color: \"#ffc107\",\n                                    fontSize: \"0.9rem\",\n                                    letterSpacing: \"1px\",\n                                  }}\n                                >\n                                  {\"★\".repeat(review.rating)}\n                                  <span style={{ color: \"#dee2e6\" }}>\n                                    {\"★\".repeat(5 - review.rating)}\n                                  </span>\n                                </span>\n                                <span\n                                  style={{\n                                    fontSize: \"0.85rem\",\n                                    color: \"#495057\",\n                                    fontWeight: \"500\",\n                                  }}\n                                >\n                                  {review.userName}\n                                </span>\n                              </div>\n                              {review.comment && (\n                                <p\n                                  style={{\n                                    fontSize: \"0.9rem\",\n                                    color: \"#6c757d\",\n                                    margin: \"4px 0 0 0\",\n                                    lineHeight: \"1.4\",\n                                    fontStyle: \"italic\",\n                                  }}\n                                >\n                                  \"{review.comment}\"\n                                </p>\n                              )}\n                            </div>\n                          ))}\n                        {dishRatings[m.name].reviews.length > 5 && (\n                          <p\n                            style={{\n                              fontSize: \"0.85rem\",\n                              color: \"#6c757d\",\n                              margin: \"8px 0 0 0\",\n                              textAlign: \"center\",\n                              fontWeight: \"500\",\n                            }}\n                          >\n                            + {dishRatings[m.name].reviews.length - 5} more{\" \"}\n                            {dishRatings[m.name].reviews.length - 5 === 1\n                              ? \"review\"\n                              : \"reviews\"}\n                          </p>\n                        )}\n                      </div>\n                    )}\n                  </>\n                )}\n\n                <p\n                  style={{\n                    color: \"#6c757d\",\n                    fontSize: \"0.95rem\",\n                    lineHeight: \"1.5\",\n                    margin: \"0 0 16px 0\",\n                    minHeight: \"44px\",\n                  }}\n                >\n                  {m.description}\n                </p>\n\n                <div\n                  style={{\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"space-between\",\n                    marginTop: \"auto\",\n                  }}\n                >\n                  <span\n                    style={{\n                      fontSize: \"1.5rem\",\n                      fontWeight: \"700\",\n                      color: \"#ff385c\",\n                    }}\n                  >\n                    £{m.price.toFixed(2)}\n                  </span>\n\n                  <button\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      handleAdd(m);\n                    }}\n                    style={{\n                      background:\n                        \"linear-gradient(135deg, #ff385c 0%, #ff6b6b 100%)\",\n                      color: \"#fff\",\n                      border: \"none\",\n                      padding: \"10px 20px\",\n                      borderRadius: \"25px\",\n                      cursor: \"pointer\",\n                      fontSize: \"0.95rem\",\n                      fontWeight: \"600\",\n                      transition: \"all 0.3s ease\",\n                      boxShadow: \"0 4px 12px rgba(255,56,92,0.3)\",\n                    }}\n                    onMouseEnter={(e) => {\n                      e.currentTarget.style.transform = \"scale(1.05)\";\n                      e.currentTarget.style.boxShadow =\n                        \"0 6px 16px rgba(255,56,92,0.4)\";\n                    }}\n                    onMouseLeave={(e) => {\n                      e.currentTarget.style.transform = \"scale(1)\";\n                      e.currentTarget.style.boxShadow =\n                        \"0 4px 12px rgba(255,56,92,0.3)\";\n                    }}\n                  >\n                    ➕ Add to Cart\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {/* Back Button */}\n        <div style={{ textAlign: \"center\", marginTop: \"48px\" }}>\n          <button\n            onClick={() => navigate(\"/\")}\n            style={{\n              background: \"#fff\",\n              color: \"#495057\",\n              border: \"2px solid #dee2e6\",\n              borderRadius: \"25px\",\n              padding: \"12px 32px\",\n              cursor: \"pointer\",\n              fontSize: \"1rem\",\n              fontWeight: \"600\",\n              transition: \"all 0.3s ease\",\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.background = \"#f8f9fa\";\n              e.currentTarget.style.borderColor = \"#adb5bd\";\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.background = \"#fff\";\n              e.currentTarget.style.borderColor = \"#dee2e6\";\n            }}\n          >\n            ← Back to Restaurants\n          </button>\n        </div>\n      </div>\n\n      <style>{`\n        @keyframes slideIn {\n          from {\n            transform: translateX(100%);\n            opacity: 0;\n          }\n          to {\n            transform: translateX(0);\n            opacity: 1;\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}