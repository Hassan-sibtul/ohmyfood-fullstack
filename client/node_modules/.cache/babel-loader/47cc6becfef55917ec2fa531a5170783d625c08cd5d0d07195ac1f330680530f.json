{"ast":null,"code":"var _jsxFileName = \"/Users/sibtulhassan/Downloads/ohmyfood-fullstack/client/src/pages/Payment.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { CartContext } from \"../context/CartContext\";\nimport { Elements, CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport API from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst stripePromise = loadStripe(\"pk_test_51SL4gHFrLsiRJStWdnqFsEdHiiDQYDvTOGEe53lwevsgEMz2PxhP4QjKcqgbf8h2N8EKmkIXIDLfELusYLepJqNE00oIRsCveh\");\nfunction CheckoutForm({\n  address,\n  cart\n}) {\n  _s();\n  const stripe = useStripe();\n  const elements = useElements();\n  const navigate = useNavigate();\n  const {\n    clearCart\n  } = useContext(CartContext);\n  const [loading, setLoading] = useState(false);\n  const total = cart.reduce((sum, item) => sum + (item.price || 0) * (item.qty || 0), 0);\n\n  // ‚úÖ Billing + loyalty point states\n  const [billingDetails, setBillingDetails] = useState({\n    name: \"\",\n    email: \"\",\n    line1: \"\",\n    city: \"\",\n    postcode: \"\",\n    country: \"GB\" // default for UK\n  });\n  const [userPoints, setUserPoints] = useState(0);\n  const [pointsToUse, setPointsToUse] = useState(0);\n  const [discount, setDiscount] = useState(0);\n\n  // ‚úÖ Fetch saved profile & loyalty points\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        var _profileRes$data, _loyaltyRes$data;\n        const token = localStorage.getItem(\"token\");\n        if (!token) return;\n        const [profileRes, loyaltyRes] = await Promise.all([API.get(\"/api/users/profile\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }), API.get(\"/api/users/loyalty\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        })]);\n        if ((_profileRes$data = profileRes.data) !== null && _profileRes$data !== void 0 && _profileRes$data.billingDetails) setBillingDetails(profileRes.data.billingDetails);\n        if ((_loyaltyRes$data = loyaltyRes.data) !== null && _loyaltyRes$data !== void 0 && _loyaltyRes$data.loyaltyPoints) setUserPoints(loyaltyRes.data.loyaltyPoints);\n      } catch (err) {\n        console.warn(\"‚ö†Ô∏è Could not load user profile/points:\", err === null || err === void 0 ? void 0 : err.message);\n      }\n    };\n    fetchProfile();\n  }, []);\n  const handleChange = e => {\n    setBillingDetails({\n      ...billingDetails,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  // üí∞ Apply loyalty points for discount\n  const handleApplyPoints = () => {\n    if (pointsToUse <= 0 || pointsToUse > userPoints) {\n      alert(\"Enter a valid number of points to redeem.\");\n      return;\n    }\n    const discountValue = pointsToUse * 0.01; // 1 point = ¬£0.01\n    if (discountValue > total) {\n      alert(\"You cannot apply more points than the total amount.\");\n      return;\n    }\n    setDiscount(discountValue);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const token = localStorage.getItem(\"token\");\n    if (!token) return alert(\"You must be logged in to make a payment.\");\n    if (!stripe || !elements) return alert(\"Stripe not ready yet.\");\n    setLoading(true);\n    try {\n      const payableAmount = total - discount;\n\n      // 1Ô∏è‚É£ Create payment intent\n      const {\n        data: paymentIntent\n      } = await API.post(\"/api/payment/create-payment-intent\", {\n        amount: Math.round(payableAmount * 100)\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const clientSecret = paymentIntent === null || paymentIntent === void 0 ? void 0 : paymentIntent.clientSecret;\n      if (!clientSecret) throw new Error(\"Missing client secret from server.\");\n\n      // 2Ô∏è‚É£ Confirm card payment\n      const card = elements.getElement(CardElement);\n      const confirm = await stripe.confirmCardPayment(clientSecret, {\n        payment_method: {\n          card,\n          billing_details: {\n            name: billingDetails.name,\n            email: billingDetails.email,\n            address: {\n              line1: billingDetails.line1,\n              postal_code: billingDetails.postcode,\n              // ‚úÖ UK-friendly\n              city: billingDetails.city,\n              country: billingDetails.country\n            }\n          }\n        }\n      });\n      if (confirm.error) throw confirm.error;\n      if (confirm.paymentIntent.status !== \"succeeded\") throw new Error(\"Payment not successful.\");\n\n      // 3Ô∏è‚É£ Group items by restaurant (multi-restaurant support)\n      const groupedByRestaurant = cart.reduce((acc, item) => {\n        if (!item.restaurantId) {\n          console.warn(\"Item missing restaurantId:\", item);\n          return acc;\n        }\n        if (!acc[item.restaurantId]) acc[item.restaurantId] = [];\n        acc[item.restaurantId].push(item);\n        return acc;\n      }, {});\n      const createdOrders = [];\n\n      // 4Ô∏è‚É£ Create separate order for each restaurant\n      for (const [restaurantId, items] of Object.entries(groupedByRestaurant)) {\n        const orderTotal = items.reduce((sum, i) => sum + i.price * i.qty, 0);\n        const orderRes = await API.post(\"/api/orders\", {\n          restaurantId,\n          items,\n          totalAmount: orderTotal,\n          address\n        }, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        createdOrders.push(orderRes.data);\n      }\n\n      // 5Ô∏è‚É£ Deduct used points if applicable\n      if (pointsToUse > 0) {\n        try {\n          await API.put(\"/api/users/redeem\", {\n            pointsToRedeem: pointsToUse\n          }, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          console.log(`üíé Redeemed ${pointsToUse} points`);\n        } catch (err) {\n          console.warn(\"‚ö†Ô∏è Could not redeem points:\", err === null || err === void 0 ? void 0 : err.message);\n        }\n      }\n\n      // 6Ô∏è‚É£ Save billing info for next time\n      try {\n        await API.put(\"/api/users/profile\", {\n          billingDetails\n        }, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n      } catch (err) {\n        console.warn(\"Profile update failed:\", err === null || err === void 0 ? void 0 : err.message);\n      }\n\n      // 7Ô∏è‚É£ Clear cart and redirect\n      clearCart();\n      localStorage.removeItem(\"cart\");\n      navigate(\"/order-confirmation\", {\n        state: {\n          total: payableAmount,\n          orders: createdOrders\n        },\n        replace: true\n      });\n    } catch (err) {\n      console.error(\"‚ùå Payment error:\", err);\n      alert((err === null || err === void 0 ? void 0 : err.message) || \"Payment failed. Please check your card details and try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"payment-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Billing Information\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      placeholder: \"Cardholder Name\",\n      value: billingDetails.name,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      placeholder: \"Email\",\n      value: billingDetails.email,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"line1\",\n      placeholder: \"Street Address\",\n      value: billingDetails.line1,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"city\",\n      placeholder: \"City\",\n      value: billingDetails.city,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"postcode\",\n      placeholder: \"Postcode\",\n      value: billingDetails.postcode,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this), userPoints > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: \"1px solid #ddd\",\n        borderRadius: \"8px\",\n        padding: \"10px\",\n        margin: \"15px 0\",\n        background: \"#f8f8f8\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Redeem Loyalty Points\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"You have \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: userPoints\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 22\n        }, this), \" points ( \\xA3\", (userPoints * 0.01).toFixed(2), \" value)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: pointsToUse,\n        onChange: e => setPointsToUse(Number(e.target.value)),\n        min: \"0\",\n        max: userPoints,\n        style: {\n          marginRight: \"10px\",\n          padding: \"5px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: handleApplyPoints,\n        style: {\n          background: \"#ff385c\",\n          color: \"#fff\",\n          border: \"none\",\n          padding: \"5px 10px\",\n          borderRadius: \"5px\",\n          cursor: \"pointer\"\n        },\n        children: \"Apply\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }, this), discount > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: \"5px\"\n        },\n        children: [\"Discount applied: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [\"\\xA3\", discount.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Payment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: \"1px solid #ddd\",\n        padding: 10,\n        borderRadius: 6\n      },\n      children: /*#__PURE__*/_jsxDEV(CardElement, {\n        options: {\n          hidePostalCode: true\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      disabled: !stripe || loading,\n      className: \"btn-primary\",\n      style: {\n        marginTop: 12\n      },\n      children: loading ? \"Processing...\" : `Pay ¬£${(total - discount).toFixed(2)}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 204,\n    columnNumber: 5\n  }, this);\n}\n_s(CheckoutForm, \"OfgJ+VLGVSP6LiRNsFAiBWBTr/I=\", false, function () {\n  return [useStripe, useElements, useNavigate];\n});\n_c = CheckoutForm;\nexport default function Payment() {\n  _s2();\n  const location = useLocation();\n  const {\n    address,\n    cart\n  } = location.state || {\n    address: {},\n    cart: []\n  };\n  return /*#__PURE__*/_jsxDEV(Elements, {\n    stripe: stripePromise,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"payment-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Payment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CheckoutForm, {\n        address: address,\n        cart: cart\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 315,\n    columnNumber: 5\n  }, this);\n}\n_s2(Payment, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n  return [useLocation];\n});\n_c2 = Payment;\nvar _c, _c2;\n$RefreshReg$(_c, \"CheckoutForm\");\n$RefreshReg$(_c2, \"Payment\");","map":{"version":3,"names":["React","useContext","useEffect","useState","useLocation","useNavigate","loadStripe","CartContext","Elements","CardElement","useStripe","useElements","API","jsxDEV","_jsxDEV","stripePromise","CheckoutForm","address","cart","_s","stripe","elements","navigate","clearCart","loading","setLoading","total","reduce","sum","item","price","qty","billingDetails","setBillingDetails","name","email","line1","city","postcode","country","userPoints","setUserPoints","pointsToUse","setPointsToUse","discount","setDiscount","fetchProfile","_profileRes$data","_loyaltyRes$data","token","localStorage","getItem","profileRes","loyaltyRes","Promise","all","get","headers","Authorization","data","loyaltyPoints","err","console","warn","message","handleChange","e","target","value","handleApplyPoints","alert","discountValue","handleSubmit","preventDefault","payableAmount","paymentIntent","post","amount","Math","round","clientSecret","Error","card","getElement","confirm","confirmCardPayment","payment_method","billing_details","postal_code","error","status","groupedByRestaurant","acc","restaurantId","push","createdOrders","items","Object","entries","orderTotal","i","orderRes","totalAmount","put","pointsToRedeem","log","removeItem","state","orders","replace","onSubmit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","required","style","border","borderRadius","padding","margin","background","toFixed","Number","min","max","marginRight","onClick","color","cursor","marginTop","options","hidePostalCode","disabled","_c","Payment","_s2","location","_c2","$RefreshReg$"],"sources":["/Users/sibtulhassan/Downloads/ohmyfood-fullstack/client/src/pages/Payment.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { CartContext } from \"../context/CartContext\";\nimport {\n  Elements,\n  CardElement,\n  useStripe,\n  useElements,\n} from \"@stripe/react-stripe-js\";\nimport API from \"../api\";\n\nconst stripePromise = loadStripe(\n  \"pk_test_51SL4gHFrLsiRJStWdnqFsEdHiiDQYDvTOGEe53lwevsgEMz2PxhP4QjKcqgbf8h2N8EKmkIXIDLfELusYLepJqNE00oIRsCveh\"\n);\n\nfunction CheckoutForm({ address, cart }) {\n  const stripe = useStripe();\n  const elements = useElements();\n  const navigate = useNavigate();\n  const { clearCart } = useContext(CartContext);\n  const [loading, setLoading] = useState(false);\n\n  const total = cart.reduce(\n    (sum, item) => sum + (item.price || 0) * (item.qty || 0),\n    0\n  );\n\n  // ‚úÖ Billing + loyalty point states\n  const [billingDetails, setBillingDetails] = useState({\n    name: \"\",\n    email: \"\",\n    line1: \"\",\n    city: \"\",\n    postcode: \"\",\n    country: \"GB\", // default for UK\n  });\n\n  const [userPoints, setUserPoints] = useState(0);\n  const [pointsToUse, setPointsToUse] = useState(0);\n  const [discount, setDiscount] = useState(0);\n\n  // ‚úÖ Fetch saved profile & loyalty points\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const token = localStorage.getItem(\"token\");\n        if (!token) return;\n\n        const [profileRes, loyaltyRes] = await Promise.all([\n          API.get(\"/api/users/profile\", {\n            headers: { Authorization: `Bearer ${token}` },\n          }),\n          API.get(\"/api/users/loyalty\", {\n            headers: { Authorization: `Bearer ${token}` },\n          }),\n        ]);\n\n        if (profileRes.data?.billingDetails)\n          setBillingDetails(profileRes.data.billingDetails);\n        if (loyaltyRes.data?.loyaltyPoints)\n          setUserPoints(loyaltyRes.data.loyaltyPoints);\n      } catch (err) {\n        console.warn(\"‚ö†Ô∏è Could not load user profile/points:\", err?.message);\n      }\n    };\n    fetchProfile();\n  }, []);\n\n  const handleChange = (e) => {\n    setBillingDetails({ ...billingDetails, [e.target.name]: e.target.value });\n  };\n\n  // üí∞ Apply loyalty points for discount\n  const handleApplyPoints = () => {\n    if (pointsToUse <= 0 || pointsToUse > userPoints) {\n      alert(\"Enter a valid number of points to redeem.\");\n      return;\n    }\n    const discountValue = pointsToUse * 0.01; // 1 point = ¬£0.01\n    if (discountValue > total) {\n      alert(\"You cannot apply more points than the total amount.\");\n      return;\n    }\n    setDiscount(discountValue);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const token = localStorage.getItem(\"token\");\n    if (!token) return alert(\"You must be logged in to make a payment.\");\n    if (!stripe || !elements) return alert(\"Stripe not ready yet.\");\n\n    setLoading(true);\n    try {\n      const payableAmount = total - discount;\n\n      // 1Ô∏è‚É£ Create payment intent\n      const { data: paymentIntent } = await API.post(\n        \"/api/payment/create-payment-intent\",\n        { amount: Math.round(payableAmount * 100) },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n\n      const clientSecret = paymentIntent?.clientSecret;\n      if (!clientSecret) throw new Error(\"Missing client secret from server.\");\n\n      // 2Ô∏è‚É£ Confirm card payment\n      const card = elements.getElement(CardElement);\n      const confirm = await stripe.confirmCardPayment(clientSecret, {\n        payment_method: {\n          card,\n          billing_details: {\n            name: billingDetails.name,\n            email: billingDetails.email,\n            address: {\n              line1: billingDetails.line1,\n              postal_code: billingDetails.postcode, // ‚úÖ UK-friendly\n              city: billingDetails.city,\n              country: billingDetails.country,\n            },\n          },\n        },\n      });\n\n      if (confirm.error) throw confirm.error;\n      if (confirm.paymentIntent.status !== \"succeeded\")\n        throw new Error(\"Payment not successful.\");\n\n      // 3Ô∏è‚É£ Group items by restaurant (multi-restaurant support)\n      const groupedByRestaurant = cart.reduce((acc, item) => {\n        if (!item.restaurantId) {\n          console.warn(\"Item missing restaurantId:\", item);\n          return acc;\n        }\n        if (!acc[item.restaurantId]) acc[item.restaurantId] = [];\n        acc[item.restaurantId].push(item);\n        return acc;\n      }, {});\n\n      const createdOrders = [];\n\n      // 4Ô∏è‚É£ Create separate order for each restaurant\n      for (const [restaurantId, items] of Object.entries(groupedByRestaurant)) {\n        const orderTotal = items.reduce((sum, i) => sum + i.price * i.qty, 0);\n        const orderRes = await API.post(\n          \"/api/orders\",\n          {\n            restaurantId,\n            items,\n            totalAmount: orderTotal,\n            address,\n          },\n          { headers: { Authorization: `Bearer ${token}` } }\n        );\n        createdOrders.push(orderRes.data);\n      }\n\n      // 5Ô∏è‚É£ Deduct used points if applicable\n      if (pointsToUse > 0) {\n        try {\n          await API.put(\n            \"/api/users/redeem\",\n            { pointsToRedeem: pointsToUse },\n            { headers: { Authorization: `Bearer ${token}` } }\n          );\n          console.log(`üíé Redeemed ${pointsToUse} points`);\n        } catch (err) {\n          console.warn(\"‚ö†Ô∏è Could not redeem points:\", err?.message);\n        }\n      }\n\n      // 6Ô∏è‚É£ Save billing info for next time\n      try {\n        await API.put(\n          \"/api/users/profile\",\n          { billingDetails },\n          { headers: { Authorization: `Bearer ${token}` } }\n        );\n      } catch (err) {\n        console.warn(\"Profile update failed:\", err?.message);\n      }\n\n      // 7Ô∏è‚É£ Clear cart and redirect\n      clearCart();\n      localStorage.removeItem(\"cart\");\n\n      navigate(\"/order-confirmation\", {\n        state: { total: payableAmount, orders: createdOrders },\n        replace: true,\n      });\n    } catch (err) {\n      console.error(\"‚ùå Payment error:\", err);\n      alert(\n        err?.message ||\n          \"Payment failed. Please check your card details and try again.\"\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"payment-form\">\n      <h3>Billing Information</h3>\n      <input\n        type=\"text\"\n        name=\"name\"\n        placeholder=\"Cardholder Name\"\n        value={billingDetails.name}\n        onChange={handleChange}\n        required\n      />\n      <input\n        type=\"email\"\n        name=\"email\"\n        placeholder=\"Email\"\n        value={billingDetails.email}\n        onChange={handleChange}\n        required\n      />\n      <input\n        type=\"text\"\n        name=\"line1\"\n        placeholder=\"Street Address\"\n        value={billingDetails.line1}\n        onChange={handleChange}\n        required\n      />\n      <input\n        type=\"text\"\n        name=\"city\"\n        placeholder=\"City\"\n        value={billingDetails.city}\n        onChange={handleChange}\n        required\n      />\n      <input\n        type=\"text\"\n        name=\"postcode\"\n        placeholder=\"Postcode\"\n        value={billingDetails.postcode}\n        onChange={handleChange}\n        required\n      />\n\n      {/* üíé Redeem Points Section */}\n      {userPoints > 0 && (\n        <div\n          style={{\n            border: \"1px solid #ddd\",\n            borderRadius: \"8px\",\n            padding: \"10px\",\n            margin: \"15px 0\",\n            background: \"#f8f8f8\",\n          }}\n        >\n          <h4>Redeem Loyalty Points</h4>\n          <p>\n            You have <strong>{userPoints}</strong> points ( ¬£\n            {(userPoints * 0.01).toFixed(2)} value)\n          </p>\n          <input\n            type=\"number\"\n            value={pointsToUse}\n            onChange={(e) => setPointsToUse(Number(e.target.value))}\n            min=\"0\"\n            max={userPoints}\n            style={{ marginRight: \"10px\", padding: \"5px\" }}\n          />\n          <button\n            type=\"button\"\n            onClick={handleApplyPoints}\n            style={{\n              background: \"#ff385c\",\n              color: \"#fff\",\n              border: \"none\",\n              padding: \"5px 10px\",\n              borderRadius: \"5px\",\n              cursor: \"pointer\",\n            }}\n          >\n            Apply\n          </button>\n          {discount > 0 && (\n            <p style={{ marginTop: \"5px\" }}>\n              Discount applied: <strong>¬£{discount.toFixed(2)}</strong>\n            </p>\n          )}\n        </div>\n      )}\n\n      <h3>Payment</h3>\n      <div style={{ border: \"1px solid #ddd\", padding: 10, borderRadius: 6 }}>\n        <CardElement options={{ hidePostalCode: true }} />\n      </div>\n\n      <button\n        type=\"submit\"\n        disabled={!stripe || loading}\n        className=\"btn-primary\"\n        style={{ marginTop: 12 }}\n      >\n        {loading ? \"Processing...\" : `Pay ¬£${(total - discount).toFixed(2)}`}\n      </button>\n    </form>\n  );\n}\n\nexport default function Payment() {\n  const location = useLocation();\n  const { address, cart } = location.state || { address: {}, cart: [] };\n\n  return (\n    <Elements stripe={stripePromise}>\n      <div className=\"payment-container\">\n        <h2>Payment</h2>\n        <CheckoutForm address={address} cart={cart} />\n      </div>\n    </Elements>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}