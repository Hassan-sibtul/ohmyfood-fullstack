{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import API from'../api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Restaurant(){const{id}=useParams();const[rest,setRest]=useState(null);useEffect(()=>{API.get(\"/restaurants/\".concat(id)).then(r=>setRest(r.data)).catch(console.error);},[id]);function addToCart(item){const cart=JSON.parse(localStorage.getItem('cart')||'[]');const existing=cart.find(i=>i.menuItemId===item._id);if(existing){existing.qty+=1;}else{cart.push({menuItemId:item._id,name:item.name,price:item.price,qty:1});}localStorage.setItem('cart',JSON.stringify(cart));alert('Added to cart');}if(!rest)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:rest.name}),/*#__PURE__*/_jsx(\"p\",{children:rest.description}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit,minmax(220px,1fr))',gap:16},children:rest.menu.map(m=>/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #eee',padding:12},children:[/*#__PURE__*/_jsxs(\"h4\",{children:[m.name,\" \\u2014 $\",m.price.toFixed(2)]}),/*#__PURE__*/_jsx(\"p\",{children:m.description}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>addToCart(m),children:\"Add\"})]},m._id||m.name))})]});}","map":{"version":3,"names":["React","useEffect","useState","useParams","API","jsx","_jsx","jsxs","_jsxs","Restaurant","id","rest","setRest","get","concat","then","r","data","catch","console","error","addToCart","item","cart","JSON","parse","localStorage","getItem","existing","find","i","menuItemId","_id","qty","push","name","price","setItem","stringify","alert","children","description","style","display","gridTemplateColumns","gap","menu","map","m","border","padding","toFixed","onClick"],"sources":["/Users/sibtulhassan/Downloads/ohmyfood-fullstack/client/src/pages/Restaurant.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { useParams } from 'react-router-dom';\nimport API from '../api';\n\nexport default function Restaurant(){\n  const { id } = useParams();\n  const [rest, setRest] = useState(null);\n\n  useEffect(()=> {\n    API.get(`/restaurants/${id}`).then(r => setRest(r.data)).catch(console.error);\n  }, [id]);\n\n  function addToCart(item){\n    const cart = JSON.parse(localStorage.getItem('cart') || '[]');\n    const existing = cart.find(i => i.menuItemId === item._id);\n    if(existing){ existing.qty += 1; } else {\n      cart.push({ menuItemId: item._id, name: item.name, price: item.price, qty: 1 });\n    }\n    localStorage.setItem('cart', JSON.stringify(cart));\n    alert('Added to cart');\n  }\n\n  if(!rest) return <div>Loading...</div>;\n\n  return (\n    <div>\n      <h1>{rest.name}</h1>\n      <p>{rest.description}</p>\n      <div style={{ display:'grid', gridTemplateColumns:'repeat(auto-fit,minmax(220px,1fr))', gap:16 }}>\n        {rest.menu.map(m => (\n          <div key={m._id || m.name} style={{ border:'1px solid #eee', padding:12 }}>\n            <h4>{m.name} â€” ${m.price.toFixed(2)}</h4>\n            <p>{m.description}</p>\n            <button onClick={()=> addToCart(m)}>Add</button>\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAChD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,CAAAC,GAAG,KAAM,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzB,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAE,CAClC,KAAM,CAAEC,EAAG,CAAC,CAAGP,SAAS,CAAC,CAAC,CAC1B,KAAM,CAACQ,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAEtCD,SAAS,CAAC,IAAK,CACbG,GAAG,CAACS,GAAG,iBAAAC,MAAA,CAAiBJ,EAAE,CAAE,CAAC,CAACK,IAAI,CAACC,CAAC,EAAIJ,OAAO,CAACI,CAAC,CAACC,IAAI,CAAC,CAAC,CAACC,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC,CAC/E,CAAC,CAAE,CAACV,EAAE,CAAC,CAAC,CAER,QAAS,CAAAW,SAASA,CAACC,IAAI,CAAC,CACtB,KAAM,CAAAC,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAI,IAAI,CAAC,CAC7D,KAAM,CAAAC,QAAQ,CAAGL,IAAI,CAACM,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,UAAU,GAAKT,IAAI,CAACU,GAAG,CAAC,CAC1D,GAAGJ,QAAQ,CAAC,CAAEA,QAAQ,CAACK,GAAG,EAAI,CAAC,CAAE,CAAC,IAAM,CACtCV,IAAI,CAACW,IAAI,CAAC,CAAEH,UAAU,CAAET,IAAI,CAACU,GAAG,CAAEG,IAAI,CAAEb,IAAI,CAACa,IAAI,CAAEC,KAAK,CAAEd,IAAI,CAACc,KAAK,CAAEH,GAAG,CAAE,CAAE,CAAC,CAAC,CACjF,CACAP,YAAY,CAACW,OAAO,CAAC,MAAM,CAAEb,IAAI,CAACc,SAAS,CAACf,IAAI,CAAC,CAAC,CAClDgB,KAAK,CAAC,eAAe,CAAC,CACxB,CAEA,GAAG,CAAC5B,IAAI,CAAE,mBAAOL,IAAA,QAAAkC,QAAA,CAAK,YAAU,CAAK,CAAC,CAEtC,mBACEhC,KAAA,QAAAgC,QAAA,eACElC,IAAA,OAAAkC,QAAA,CAAK7B,IAAI,CAACwB,IAAI,CAAK,CAAC,cACpB7B,IAAA,MAAAkC,QAAA,CAAI7B,IAAI,CAAC8B,WAAW,CAAI,CAAC,cACzBnC,IAAA,QAAKoC,KAAK,CAAE,CAAEC,OAAO,CAAC,MAAM,CAAEC,mBAAmB,CAAC,oCAAoC,CAAEC,GAAG,CAAC,EAAG,CAAE,CAAAL,QAAA,CAC9F7B,IAAI,CAACmC,IAAI,CAACC,GAAG,CAACC,CAAC,eACdxC,KAAA,QAA2BkC,KAAK,CAAE,CAAEO,MAAM,CAAC,gBAAgB,CAAEC,OAAO,CAAC,EAAG,CAAE,CAAAV,QAAA,eACxEhC,KAAA,OAAAgC,QAAA,EAAKQ,CAAC,CAACb,IAAI,CAAC,WAAI,CAACa,CAAC,CAACZ,KAAK,CAACe,OAAO,CAAC,CAAC,CAAC,EAAK,CAAC,cACzC7C,IAAA,MAAAkC,QAAA,CAAIQ,CAAC,CAACP,WAAW,CAAI,CAAC,cACtBnC,IAAA,WAAQ8C,OAAO,CAAEA,CAAA,GAAK/B,SAAS,CAAC2B,CAAC,CAAE,CAAAR,QAAA,CAAC,KAAG,CAAQ,CAAC,GAHxCQ,CAAC,CAAChB,GAAG,EAAIgB,CAAC,CAACb,IAIhB,CACN,CAAC,CACC,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}