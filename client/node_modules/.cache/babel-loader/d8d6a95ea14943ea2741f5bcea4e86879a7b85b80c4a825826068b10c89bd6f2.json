{"ast":null,"code":"var _jsxFileName = \"/Users/sibtulhassan/Downloads/ohmyfood-fullstack/client/src/pages/Profile.js\",\n  _s = $RefreshSig$();\n// client/src/pages/Profile.js\nimport React, { useEffect, useState, useContext } from \"react\";\nimport API from \"../api\";\nimport { CartContext } from \"../context/CartContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport DeliveryTracker from \"../components/DeliveryTracker\";\n\n// Small helper to color status badges consistently\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst statusBg = status => {\n  switch (status) {\n    case \"Paid\":\n      return \"#17a2b8\";\n    // teal\n    case \"Preparing\":\n      return \"#ff9800\";\n    // orange\n    case \"Out for Delivery\":\n      return \"#007bff\";\n    // blue\n    case \"Delivered\":\n      return \"#28a745\";\n    // green\n    default:\n      return \"#6c757d\";\n    // gray\n  }\n};\nexport default function Profile() {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const [expandedOrders, setExpandedOrders] = useState({});\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n  const {\n    addToCart\n  } = useContext(CartContext);\n  const fetchOrders = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        setOrders([]);\n        setLoading(false);\n        return;\n      }\n      const res = await API.get(\"/api/orders/my-orders\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setOrders(Array.isArray(res.data) ? res.data : []);\n    } catch (err) {\n      console.error(\"Failed to fetch orders:\", err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchOrders();\n    const interval = setInterval(fetchOrders, 5000);\n    return () => clearInterval(interval);\n  }, []);\n  const toggleTracker = orderId => {\n    setExpandedOrders(prev => ({\n      ...prev,\n      [orderId]: !prev[orderId]\n    }));\n  };\n\n  // Re-adds items from a past order to the cart\n  const handleReorder = order => {\n    var _order$restaurant;\n    const restaurantId = (order === null || order === void 0 ? void 0 : (_order$restaurant = order.restaurant) === null || _order$restaurant === void 0 ? void 0 : _order$restaurant._id) || (order === null || order === void 0 ? void 0 : order.restaurant) || null;\n    order.items.forEach(item => {\n      // Synthetic _id for cart uniqueness when order items don't have _id\n      const syntheticId = `${restaurantId || \"unknown\"}:${item.name}`;\n      addToCart({\n        _id: syntheticId,\n        name: item.name,\n        price: item.price,\n        qty: item.qty || 1,\n        restaurantId\n      }, restaurantId);\n    });\n    navigate(\"/cart\");\n  };\n  const activeOrders = orders.filter(o => o.status !== \"Delivered\");\n  const deliveredOrders = orders.filter(o => o.status === \"Delivered\");\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: \"30px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          margin: 0\n        },\n        children: \"My Orders\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"#666\"\n        },\n        children: \"Loading your orders\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 900,\n      margin: \"30px auto\",\n      padding: \"0 16px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"page-title\",\n      children: \"My Orders\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), orders.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"empty-text\",\n      children: \"You haven\\u2019t placed any orders yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        style: {\n          marginBottom: \"30px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n            marginBottom: \"10px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: 0\n            },\n            children: \"\\uD83D\\uDFE3 Active Orders\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: \"#666\"\n            },\n            children: [activeOrders.length, \" active\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"orders-list\",\n          children: activeOrders.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"#777\",\n              margin: 0\n            },\n            children: \"No active orders.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 17\n          }, this) : activeOrders.map(order => {\n            var _order$restaurant2, _order$address, _order$address2, _order$address3, _order$address4;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-card\",\n              style: {\n                border: \"1px solid #eee\",\n                borderRadius: \"8px\",\n                padding: \"15px\",\n                marginBottom: \"15px\",\n                backgroundColor: \"#fff\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"order-header\",\n                style: {\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"space-between\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"order-id\",\n                  style: {\n                    margin: 0\n                  },\n                  children: [\"Order #\", order._id.slice(-6).toUpperCase()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"order-status\",\n                  style: {\n                    background: statusBg(order.status),\n                    color: \"#fff\",\n                    padding: \"4px 8px\",\n                    borderRadius: \"4px\",\n                    fontSize: \"0.85em\"\n                  },\n                  children: order.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"restaurant-name\",\n                style: {\n                  color: \"#666\",\n                  margin: \"10px 0\",\n                  fontSize: \"0.95em\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Restaurant:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 23\n                }, this), \" \", ((_order$restaurant2 = order.restaurant) === null || _order$restaurant2 === void 0 ? void 0 : _order$restaurant2.name) || \"Unknown\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"order-total\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Total:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 23\n                }, this), \" \\xA3\", order.totalAmount.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"order-date\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 23\n                }, this), \" \", new Date(order.createdAt).toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"order-items\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Items:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: order.items.map((item, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [item.name, \" \\xD7 \", item.qty, \" \\u2014 \\xA3\", (item.price * item.qty).toFixed(2)]\n                  }, i, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"order-address\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Delivery Address:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: (_order$address = order.address) === null || _order$address === void 0 ? void 0 : _order$address.street\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [(_order$address2 = order.address) === null || _order$address2 === void 0 ? void 0 : _order$address2.postcode, \", \", (_order$address3 = order.address) === null || _order$address3 === void 0 ? void 0 : _order$address3.county]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: (_order$address4 = order.address) === null || _order$address4 === void 0 ? void 0 : _order$address4.country\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 10\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleReorder(order),\n                  className: \"reorder-btn\",\n                  style: {\n                    background: \"#ff385c\",\n                    color: \"#fff\",\n                    border: \"none\",\n                    padding: \"8px 16px\",\n                    borderRadius: \"6px\",\n                    cursor: \"pointer\",\n                    marginRight: 10\n                  },\n                  children: \"\\uD83D\\uDD04 Reorder\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => toggleTracker(order._id),\n                  style: {\n                    background: expandedOrders[order._id] ? \"#6c757d\" : \"#007bff\",\n                    color: \"#fff\",\n                    border: \"none\",\n                    padding: \"8px 16px\",\n                    borderRadius: \"6px\",\n                    cursor: \"pointer\",\n                    marginRight: 10\n                  },\n                  children: expandedOrders[order._id] ? \"üîº Hide Tracker\" : \"üìç Track Delivery\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => navigate(\"/track-order\", {\n                    state: {\n                      order\n                    }\n                  }),\n                  style: {\n                    background: \"#28a745\",\n                    color: \"#fff\",\n                    border: \"none\",\n                    padding: \"8px 16px\",\n                    borderRadius: \"6px\",\n                    cursor: \"pointer\"\n                  },\n                  children: \"\\uD83D\\uDDFA\\uFE0F Full Tracking\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 21\n              }, this), expandedOrders[order._id] && /*#__PURE__*/_jsxDEV(DeliveryTracker, {\n                order: order\n              }, order.status, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 23\n              }, this)]\n            }, order._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n            marginBottom: \"10px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: 0\n            },\n            children: \"\\uD83D\\uDFE2 Delivered Orders\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: \"#666\"\n            },\n            children: [deliveredOrders.length, \" delivered\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"orders-list\",\n          children: deliveredOrders.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"#777\",\n              margin: 0\n            },\n            children: \"No delivered orders yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 17\n          }, this) : deliveredOrders.map(order => {\n            var _order$restaurant3, _order$address5, _order$address6, _order$address7, _order$address8;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-card\",\n              style: {\n                border: \"1px solid #eee\",\n                borderRadius: \"8px\",\n                padding: \"15px\",\n                marginBottom: \"15px\",\n                backgroundColor: \"#fff\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"order-header\",\n                style: {\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"space-between\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"order-id\",\n                  style: {\n                    margin: 0\n                  },\n                  children: [\"Order #\", order._id.slice(-6).toUpperCase()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"order-status\",\n                  style: {\n                    background: statusBg(order.status),\n                    color: \"#fff\",\n                    padding: \"4px 8px\",\n                    borderRadius: \"4px\",\n                    fontSize: \"0.85em\"\n                  },\n                  children: order.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"restaurant-name\",\n                style: {\n                  color: \"#666\",\n                  margin: \"10px 0\",\n                  fontSize: \"0.95em\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Restaurant:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 23\n                }, this), \" \", ((_order$restaurant3 = order.restaurant) === null || _order$restaurant3 === void 0 ? void 0 : _order$restaurant3.name) || \"Unknown\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"order-total\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Total:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 23\n                }, this), \" \\xA3\", order.totalAmount.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"order-date\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 23\n                }, this), \" \", new Date(order.createdAt).toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"order-items\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Items:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: order.items.map((item, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [item.name, \" \\xD7 \", item.qty, \" \\u2014 \\xA3\", (item.price * item.qty).toFixed(2)]\n                  }, i, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"order-address\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Delivery Address:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: (_order$address5 = order.address) === null || _order$address5 === void 0 ? void 0 : _order$address5.street\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [(_order$address6 = order.address) === null || _order$address6 === void 0 ? void 0 : _order$address6.postcode, \", \", (_order$address7 = order.address) === null || _order$address7 === void 0 ? void 0 : _order$address7.county]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: (_order$address8 = order.address) === null || _order$address8 === void 0 ? void 0 : _order$address8.country\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleReorder(order),\n                className: \"reorder-btn\",\n                style: {\n                  marginTop: 10,\n                  background: \"#ff385c\",\n                  color: \"#fff\",\n                  border: \"none\",\n                  padding: \"8px 16px\",\n                  borderRadius: \"6px\",\n                  cursor: \"pointer\"\n                },\n                children: \"\\uFFFD Reorder\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 21\n              }, this)]\n            }, order._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n}\n_s(Profile, \"leOpsUj/MsSUJFxN+/0SX0e83qk=\", false, function () {\n  return [useNavigate];\n});\n_c = Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useEffect","useState","useContext","API","CartContext","useNavigate","DeliveryTracker","jsxDEV","_jsxDEV","Fragment","_Fragment","statusBg","status","Profile","_s","orders","setOrders","expandedOrders","setExpandedOrders","loading","setLoading","navigate","addToCart","fetchOrders","token","localStorage","getItem","res","get","headers","Authorization","Array","isArray","data","err","console","error","interval","setInterval","clearInterval","toggleTracker","orderId","prev","handleReorder","order","_order$restaurant","restaurantId","restaurant","_id","items","forEach","item","syntheticId","name","price","qty","activeOrders","filter","o","deliveredOrders","style","padding","children","margin","fileName","_jsxFileName","lineNumber","columnNumber","color","maxWidth","className","length","marginBottom","display","alignItems","justifyContent","map","_order$restaurant2","_order$address","_order$address2","_order$address3","_order$address4","border","borderRadius","backgroundColor","slice","toUpperCase","background","fontSize","totalAmount","toFixed","Date","createdAt","toLocaleString","i","address","street","postcode","county","country","marginTop","onClick","cursor","marginRight","state","_order$restaurant3","_order$address5","_order$address6","_order$address7","_order$address8","_c","$RefreshReg$"],"sources":["/Users/sibtulhassan/Downloads/ohmyfood-fullstack/client/src/pages/Profile.js"],"sourcesContent":["// client/src/pages/Profile.js\nimport React, { useEffect, useState, useContext } from \"react\";\nimport API from \"../api\";\nimport { CartContext } from \"../context/CartContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport DeliveryTracker from \"../components/DeliveryTracker\";\n\n// Small helper to color status badges consistently\nconst statusBg = (status) => {\n  switch (status) {\n    case \"Paid\":\n      return \"#17a2b8\"; // teal\n    case \"Preparing\":\n      return \"#ff9800\"; // orange\n    case \"Out for Delivery\":\n      return \"#007bff\"; // blue\n    case \"Delivered\":\n      return \"#28a745\"; // green\n    default:\n      return \"#6c757d\"; // gray\n  }\n};\n\nexport default function Profile() {\n  const [orders, setOrders] = useState([]);\n  const [expandedOrders, setExpandedOrders] = useState({});\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n  const { addToCart } = useContext(CartContext);\n\n  const fetchOrders = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        setOrders([]);\n        setLoading(false);\n        return;\n      }\n      const res = await API.get(\"/api/orders/my-orders\", {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setOrders(Array.isArray(res.data) ? res.data : []);\n    } catch (err) {\n      console.error(\"Failed to fetch orders:\", err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchOrders();\n    const interval = setInterval(fetchOrders, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const toggleTracker = (orderId) => {\n    setExpandedOrders((prev) => ({ ...prev, [orderId]: !prev[orderId] }));\n  };\n\n  // Re-adds items from a past order to the cart\n  const handleReorder = (order) => {\n    const restaurantId = order?.restaurant?._id || order?.restaurant || null;\n    order.items.forEach((item) => {\n      // Synthetic _id for cart uniqueness when order items don't have _id\n      const syntheticId = `${restaurantId || \"unknown\"}:${item.name}`;\n      addToCart(\n        {\n          _id: syntheticId,\n          name: item.name,\n          price: item.price,\n          qty: item.qty || 1,\n          restaurantId,\n        },\n        restaurantId\n      );\n    });\n    navigate(\"/cart\");\n  };\n\n  const activeOrders = orders.filter((o) => o.status !== \"Delivered\");\n  const deliveredOrders = orders.filter((o) => o.status === \"Delivered\");\n\n  if (loading) {\n    return (\n      <div style={{ padding: \"30px\" }}>\n        <h2 style={{ margin: 0 }}>My Orders</h2>\n        <p style={{ color: \"#666\" }}>Loading your orders‚Ä¶</p>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ maxWidth: 900, margin: \"30px auto\", padding: \"0 16px\" }}>\n      <h2 className=\"page-title\">My Orders</h2>\n\n      {orders.length === 0 ? (\n        <p className=\"empty-text\">You haven‚Äôt placed any orders yet.</p>\n      ) : (\n        <>\n          {/* Active Orders */}\n          <section style={{ marginBottom: \"30px\" }}>\n            <div\n              style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"space-between\",\n                marginBottom: \"10px\",\n              }}\n            >\n              <h3 style={{ margin: 0 }}>üü£ Active Orders</h3>\n              <span style={{ color: \"#666\" }}>{activeOrders.length} active</span>\n            </div>\n\n            <div className=\"orders-list\">\n              {activeOrders.length === 0 ? (\n                <p style={{ color: \"#777\", margin: 0 }}>No active orders.</p>\n              ) : (\n                activeOrders.map((order) => (\n                  <div\n                    key={order._id}\n                    className=\"order-card\"\n                    style={{\n                      border: \"1px solid #eee\",\n                      borderRadius: \"8px\",\n                      padding: \"15px\",\n                      marginBottom: \"15px\",\n                      backgroundColor: \"#fff\",\n                    }}\n                  >\n                    <div\n                      className=\"order-header\"\n                      style={{\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"space-between\",\n                      }}\n                    >\n                      <h4 className=\"order-id\" style={{ margin: 0 }}>\n                        Order #{order._id.slice(-6).toUpperCase()}\n                      </h4>\n                      <span\n                        className=\"order-status\"\n                        style={{\n                          background: statusBg(order.status),\n                          color: \"#fff\",\n                          padding: \"4px 8px\",\n                          borderRadius: \"4px\",\n                          fontSize: \"0.85em\",\n                        }}\n                      >\n                        {order.status}\n                      </span>\n                    </div>\n\n                    <p\n                      className=\"restaurant-name\"\n                      style={{ color: \"#666\", margin: \"10px 0\", fontSize: \"0.95em\" }}\n                    >\n                      <strong>Restaurant:</strong> {order.restaurant?.name || \"Unknown\"}\n                    </p>\n\n                    <p className=\"order-total\">\n                      <strong>Total:</strong> ¬£{order.totalAmount.toFixed(2)}\n                    </p>\n                    <p className=\"order-date\">\n                      <strong>Date:</strong> {new Date(order.createdAt).toLocaleString()}\n                    </p>\n\n                    <div className=\"order-items\">\n                      <strong>Items:</strong>\n                      <ul>\n                        {order.items.map((item, i) => (\n                          <li key={i}>\n                            {item.name} √ó {item.qty} ‚Äî ¬£{(item.price * item.qty).toFixed(2)}\n                          </li>\n                        ))}\n                      </ul>\n                    </div>\n\n                    <div className=\"order-address\">\n                      <strong>Delivery Address:</strong>\n                      <p>{order.address?.street}</p>\n                      <p>\n                        {order.address?.postcode}, {order.address?.county}\n                      </p>\n                      <p>{order.address?.country}</p>\n                    </div>\n\n                    {/* Actions for active orders */}\n                    <div style={{ marginTop: 10 }}>\n                      <button\n                        onClick={() => handleReorder(order)}\n                        className=\"reorder-btn\"\n                        style={{\n                          background: \"#ff385c\",\n                          color: \"#fff\",\n                          border: \"none\",\n                          padding: \"8px 16px\",\n                          borderRadius: \"6px\",\n                          cursor: \"pointer\",\n                          marginRight: 10,\n                        }}\n                      >\n                        üîÑ Reorder\n                      </button>\n\n                      <button\n                        onClick={() => toggleTracker(order._id)}\n                        style={{\n                          background: expandedOrders[order._id] ? \"#6c757d\" : \"#007bff\",\n                          color: \"#fff\",\n                          border: \"none\",\n                          padding: \"8px 16px\",\n                          borderRadius: \"6px\",\n                          cursor: \"pointer\",\n                          marginRight: 10,\n                        }}\n                      >\n                        {expandedOrders[order._id] ? \"üîº Hide Tracker\" : \"üìç Track Delivery\"}\n                      </button>\n\n                      <button\n                        onClick={() => navigate(\"/track-order\", { state: { order } })}\n                        style={{\n                          background: \"#28a745\",\n                          color: \"#fff\",\n                          border: \"none\",\n                          padding: \"8px 16px\",\n                          borderRadius: \"6px\",\n                          cursor: \"pointer\",\n                        }}\n                      >\n                        üó∫Ô∏è Full Tracking\n                      </button>\n                    </div>\n\n                    {expandedOrders[order._id] && (\n                      <DeliveryTracker key={order.status} order={order} />\n                    )}\n                  </div>\n                ))\n              )}\n            </div>\n          </section>\n\n          {/* Delivered Orders */}\n          <section>\n            <div\n              style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"space-between\",\n                marginBottom: \"10px\",\n              }}\n            >\n              <h3 style={{ margin: 0 }}>üü¢ Delivered Orders</h3>\n              <span style={{ color: \"#666\" }}>{deliveredOrders.length} delivered</span>\n            </div>\n\n            <div className=\"orders-list\">\n              {deliveredOrders.length === 0 ? (\n                <p style={{ color: \"#777\", margin: 0 }}>No delivered orders yet.</p>\n              ) : (\n                deliveredOrders.map((order) => (\n                  <div\n                    key={order._id}\n                    className=\"order-card\"\n                    style={{\n                      border: \"1px solid #eee\",\n                      borderRadius: \"8px\",\n                      padding: \"15px\",\n                      marginBottom: \"15px\",\n                      backgroundColor: \"#fff\",\n                    }}\n                  >\n                    <div\n                      className=\"order-header\"\n                      style={{\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"space-between\",\n                      }}\n                    >\n                      <h4 className=\"order-id\" style={{ margin: 0 }}>\n                        Order #{order._id.slice(-6).toUpperCase()}\n                      </h4>\n                      <span\n                        className=\"order-status\"\n                        style={{\n                          background: statusBg(order.status),\n                          color: \"#fff\",\n                          padding: \"4px 8px\",\n                          borderRadius: \"4px\",\n                          fontSize: \"0.85em\",\n                        }}\n                      >\n                        {order.status}\n                      </span>\n                    </div>\n\n                    <p\n                      className=\"restaurant-name\"\n                      style={{ color: \"#666\", margin: \"10px 0\", fontSize: \"0.95em\" }}\n                    >\n                      <strong>Restaurant:</strong> {order.restaurant?.name || \"Unknown\"}\n                    </p>\n\n                    <p className=\"order-total\">\n                      <strong>Total:</strong> ¬£{order.totalAmount.toFixed(2)}\n                    </p>\n                    <p className=\"order-date\">\n                      <strong>Date:</strong> {new Date(order.createdAt).toLocaleString()}\n                    </p>\n\n                    <div className=\"order-items\">\n                      <strong>Items:</strong>\n                      <ul>\n                        {order.items.map((item, i) => (\n                          <li key={i}>\n                            {item.name} √ó {item.qty} ‚Äî ¬£{(item.price * item.qty).toFixed(2)}\n                          </li>\n                        ))}\n                      </ul>\n                    </div>\n\n                    <div className=\"order-address\">\n                      <strong>Delivery Address:</strong>\n                      <p>{order.address?.street}</p>\n                      <p>\n                        {order.address?.postcode}, {order.address?.county}\n                      </p>\n                      <p>{order.address?.country}</p>\n                    </div>\n\n                    {/* Only Reorder for delivered orders */}\n                    <button\n                      onClick={() => handleReorder(order)}\n                      className=\"reorder-btn\"\n                      style={{\n                        marginTop: 10,\n                        background: \"#ff385c\",\n                        color: \"#fff\",\n                        border: \"none\",\n                        padding: \"8px 16px\",\n                        borderRadius: \"6px\",\n                        cursor: \"pointer\",\n                      }}\n                    >\n                      ÔøΩ Reorder\n                    </button>\n                  </div>\n                ))\n              )}\n            </div>\n          </section>\n        </>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}