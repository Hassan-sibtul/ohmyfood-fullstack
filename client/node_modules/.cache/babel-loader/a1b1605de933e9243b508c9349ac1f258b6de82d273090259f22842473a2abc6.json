{"ast":null,"code":"var _jsxFileName = \"/Users/sibtulhassan/Downloads/ohmyfood-fullstack/client/src/pages/ResetPassword.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport API from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ResetPassword() {\n  _s();\n  const {\n    token\n  } = useParams();\n  const navigate = useNavigate();\n  const [password, setPassword] = useState(\"\");\n  const [confirm, setConfirm] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(null);\n    if (password.length < 6) {\n      setError(\"Password must be at least 6 characters.\");\n      return;\n    }\n    if (password !== confirm) {\n      setError(\"Passwords do not match.\");\n      return;\n    }\n    setLoading(true);\n    try {\n      await API.post(\"/api/auth/reset-password\", {\n        token,\n        password\n      });\n      setSuccess(\"Your password has been reset. You can now log in.\");\n      setTimeout(() => navigate(\"/login\"), 1200);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Reset password error:\", err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Failed to reset password.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20,\n      maxWidth: 420,\n      margin: \"40px auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Reset Password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }, this), success && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"green\"\n      },\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"New Password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        required: true,\n        style: {\n          display: \"block\",\n          margin: \"10px 0\",\n          width: \"100%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Confirm Password\",\n        value: confirm,\n        onChange: e => setConfirm(e.target.value),\n        required: true,\n        style: {\n          display: \"block\",\n          margin: \"10px 0\",\n          width: \"100%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        style: {\n          width: \"100%\",\n          padding: \"10px\",\n          background: \"#ff385c\",\n          color: \"white\",\n          opacity: loading ? 0.7 : 1\n        },\n        children: loading ? \"Resetting...\" : \"Reset Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(ResetPassword, \"VgIA21PLrwCFs5cySA+124xAw7A=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ResetPassword;\nvar _c;\n$RefreshReg$(_c, \"ResetPassword\");","map":{"version":3,"names":["React","useState","useParams","useNavigate","API","jsxDEV","_jsxDEV","ResetPassword","_s","token","navigate","password","setPassword","confirm","setConfirm","error","setError","success","setSuccess","loading","setLoading","handleSubmit","e","preventDefault","length","post","setTimeout","err","_err$response","_err$response$data","console","response","data","message","style","padding","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","color","onSubmit","type","placeholder","value","onChange","target","required","display","width","disabled","background","opacity","_c","$RefreshReg$"],"sources":["/Users/sibtulhassan/Downloads/ohmyfood-fullstack/client/src/pages/ResetPassword.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport API from \"../api\";\n\nexport default function ResetPassword() {\n  const { token } = useParams();\n  const navigate = useNavigate();\n\n  const [password, setPassword] = useState(\"\");\n  const [confirm, setConfirm] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(null);\n\n    if (password.length < 6) {\n      setError(\"Password must be at least 6 characters.\");\n      return;\n    }\n    if (password !== confirm) {\n      setError(\"Passwords do not match.\");\n      return;\n    }\n\n    setLoading(true);\n    try {\n      await API.post(\"/api/auth/reset-password\", { token, password });\n      setSuccess(\"Your password has been reset. You can now log in.\");\n      setTimeout(() => navigate(\"/login\"), 1200);\n    } catch (err) {\n      console.error(\"Reset password error:\", err);\n      setError(err.response?.data?.message || \"Failed to reset password.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{ padding: 20, maxWidth: 420, margin: \"40px auto\" }}>\n      <h2>Reset Password</h2>\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n      {success && <p style={{ color: \"green\" }}>{success}</p>}\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"password\"\n          placeholder=\"New Password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n          style={{ display: \"block\", margin: \"10px 0\", width: \"100%\" }}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Confirm Password\"\n          value={confirm}\n          onChange={(e) => setConfirm(e.target.value)}\n          required\n          style={{ display: \"block\", margin: \"10px 0\", width: \"100%\" }}\n        />\n        <button\n          type=\"submit\"\n          disabled={loading}\n          style={{\n            width: \"100%\",\n            padding: \"10px\",\n            background: \"#ff385c\",\n            color: \"white\",\n            opacity: loading ? 0.7 : 1,\n          }}\n        >\n          {loading ? \"Resetting...\" : \"Reset Password\"}\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}